<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 네임스페이스(사용영역) 설정 -->
<mapper namespace="com.euishoe.compositecart">

	<resultMap type="com.euishoe.carts.dto.CompositeCart" id="CompositeCart">
		<result property="cartNum" column="cart_num"/>
    	<result property="customerId" column="customer_id"/>
        <result property="productCode" column="PRODUCT_CODE"/>
        <result property="jacketCode" column="JACKET_CODE"/>
        <result property="pantsCode" column="PANTS_CODE"/>
        <result property="productNum" column="PRODUCT_NUM"/>
        <result property="productCount" column="PRODUCT_COUNT"/>
        <result property="productListNum" column="PRODUCT_LIST_NUM"/>
        <result property="productName" column="PRODUCT_NAME"/>
        <result property="productCost" column="PRODUCT_COST"/>
        <result property="productPrice" column="PRODUCT_PRICE"/>
        <result property="productBriefInfomation" column="PRODUCT_BRIEF_INFORMATION"/>
        <result property="productManufacturer" column="PRODUCT_MANUFACTURER"/>
        <result property="productReleaseDate" column="PRODUCT_RELEASE_DATE"/>
        <result property="productOrigin" column="PRODUCT_ORIGIN"/>
        <result property="productListPrice" column="PRODUCT_LIST_PRICE"/>
        <result property="colorCode" column="COLOR_CODE"/>
        <result property="productHitcount" column="PRODUCT_HITCOUNT"/>
        <result property="productBody" column="PRODUCT_BODY"/>
        <result property="productShoulder" column="PRODUCT_SHOULDER"/>
        <result property="productArm" column="PRODUCT_ARM"/>
        <result property="productLeg" column="PRODUCT_LEG"/>
        <result property="productSeason" column="PRODUCT_SEASON"/>
        <result property="productFabric" column="PRODUCT_FABRIC"/>
        <result property="productTpo" column="PRODUCT_TPO"/>
    </resultMap>
   <select id="listAll" resultMap="CompositeCart">

	SELECT     pi.PRODUCT_NUM,                   
			   pi.PRODUCT_LIST_NUM,              
			   pi.PRODUCT_NAME,                
			   pi.PRODUCT_COST,                 
			   pi.PRODUCT_PRICE,                 
			   pi.PRODUCT_BRIEF_INFORMATION,  
			   pi.PRODUCT_MANUFACTURER,        
			   pi.PRODUCT_RELEASE_DATE,                
			   pi.PRODUCT_ORIGIN,              
			   pi.PRODUCT_LIST_PRICE,            
		 	   pi.COLOR_CODE,
		 	   pi.PRODUCT_HITCOUNT,
		 	   pi.PRODUCT_BODY,
		 	   pi.PRODUCT_SHOULDER,
		 	   pi.PRODUCT_ARM,
		 	   pi.PRODUCT_LEG,
		 	   pi.PRODUCT_SEASON,
		 	   pi.PRODUCT_FABRIC,
		 	   pi.PRODUCT_TPO,
		 	   p.JACKET_CODE,
		 	   p.PANTS_CODE,
		 	   p.PRODUCT_COUNT,
		 	   c.cart_num,
		 	   c.product_code,
		 	   c.customer_id                 
		FROM  carts c JOIN products p 
							 ON c.product_code = p.product_code
					 JOIN product_infos pi 
					 		 ON p.product_num = pi.product_num
	    WHERE ROWNUM &lt; 5
   </select>

</mapper>